{
  "url": "file:///tmp/cilium-repo/Documentation/network/multicast.rst",
  "content": ".. only:: not (epub or latex or html) \n WARNING: You are looking at unreleased Cilium documentation.\nPlease use the official rendered version released here:\nhttps://docs.cilium.io\n \n .. _enable_multicast: \n \n Multicast Support in Cilium (Beta) \n \n .. include:: ../beta.rst \n The multicast capability allows user application to distribute data feeds to\nmultiple consumers in the Kubernetes cluster.\nThe container network multicast transmission technology based on eBPF focuses on solving\nthe problem of efficient multicast transmission in the container network and provides\nsupport for multiple multicast protocols. \n This document explains how to enable multicast support and configure Cilium and CiliumNode\nwith multicast group IP addresses and subscribers. \n Prerequisites \n This guide assumes that Cilium has been correctly installed in your\nKubernetes cluster. Please see :ref: k8s_quick_install  for more\ninformation. If unsure, run  cilium status  and validate that Cilium is up\nand running. This guide also assumes Cilium is configured with vxlan mode,\nwhich is required when using multicast capability. \n Multicast only works on kernels >= 5.10 for AMD64, and on kernels >= 6.0 for AArch64. \n Enable Multicast Feature \n Multicast support can be enabled by updating  cilium-config  ConfigMap as following: \n .. code-block:: shell-session \n $ cilium config set multicast-enabled true\n✨ Patching ConfigMap cilium-config with multicast-enabled=true...\n♻️  Restarted Cilium pods \n Configure Multicast and Subscriber IPs \n To use multicast with Cilium, we need to configure multicast group IP addresses and\nsubscriber list based on the application requirements. This is done by running\n cilium-dbg  command in each  cilium-agent  pod.\nThen, multicast subscriber pods can send out IGMP join and multicast\nsender pods can start sending multicast stream. \n As an example, the following guide uses  239.255.0.1  multicast group address. \n Get all CiliumNode IP addresses to be set as multicast subscribers: \n .. code-block:: shell-session \n $ kubectl get ciliumnodes.cilium.io\nNAME                 CILIUMINTERNALIP   INTERNALIP   AGE\nkind-control-plane   10.244.0.72        172.19.0.2   16m\nkind-worker          10.244.1.86        172.19.0.3   16m \n To set multicast IP address, enable multicast BPF maps in each  cilium-agent : \n .. code-block:: shell-session \n add multicast IP address \n $ cilium-dbg bpf multicast group add 239.255.0.1 \n check multicast IP address \n $ cilium-dbg bpf multicast group list\nGroup Address\n239.255.0.1 \n Then, set the subscriber IP addresses in each  cilium-agent : \n .. code-block:: shell-session \n cilium-agent on kind-control-plane \n $ cilium-dbg bpf multicast subscriber add 239.255.0.1 10.244.1.86\n$ cilium-dbg bpf multicast subscriber list all\nGroup           Subscriber      Type\n239.255.0.1     10.244.1.86     Remote Node \n cilium-agent on kind-worker \n $ cilium-dbg bpf multicast subscriber add 239.255.0.1 10.244.0.72 \n .. note:: \n This multicast subscriber IP addresses are different CiliumNode IP addresses than your own one. \n To make all nodes join a specified multicast group, use the  cilium multicast  command.\nYou can also get information about multicast groups and subscribers cluster-wide. \n .. code-block:: shell-session \n make all nodes join the specified multicast group \n $ cilium multicast add --group-ip 239.255.0.1 \n confirm the multicast groups and subscribers \n $ cilium multicast list subscriber --all\nNode               Group         Subscriber     Type\ncl-worker          239.255.0.1   10.244.0.196   Remote Node\ncl-control-plane   239.255.0.1   10.244.1.122   Remote Node \n When you want to remove multicast IP addresses and subscriber list, run the following commands in the  cilium-agent . \n .. code-block:: shell-session \n $ cilium-dbg bpf multicast group delete 239.255.0.1\n$ cilium-dbg bpf multicast subscriber delete 239.255.0.1 10.244.0.72 \n Limitations \n \n The operation needs to be done on each CiliumNode that uses multicast feature. \n This feature does not work with ipsec encryption between Cilium managed pod.",
  "item_type": "unknown",
  "module_path": "/tmp/cilium-repo/Documentation/network/multicast.rst",
  "extracted_at": "2025-09-03T01:13:29.219134Z"
}