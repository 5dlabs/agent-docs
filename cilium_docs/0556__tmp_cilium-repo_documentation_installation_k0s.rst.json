{
  "url": "file:///tmp/cilium-repo/Documentation/installation/k0s.rst",
  "content": ".. only:: not (epub or latex or html) \n WARNING: You are looking at unreleased Cilium documentation.\nPlease use the official rendered version released here:\nhttps://docs.cilium.io\n \n .. _k0s_install: \n \n Installation k0s Using k0sctl \n \n This guide walks you through installation of Cilium on  k0s <https://k0sproject.io/> _,\nan open source, all-inclusive Kubernetes distribution,\nwhich is configured with all of the features needed to build a Kubernetes cluster. \n Cilium is presently supported on amd64 and arm64 architectures. \n Install a Master Node \n Ensure you have the k0sctl binary installed locally. \n Setup your VMs: \n How to do this is out of the scope of this guide, please refer to your favorite virtualization tool.\nAfter deploying the VMs, export their IP addresses to environment variables (see example below). These will be used in a later step. \n .. code-block:: shell-session \n export node1_IP=192.168.2.1\nexport node2_IP=192.168.2.2\nexport node3_IP=192.168.2.3 \n Prepare the yaml configuration file k0sctl will use: \n .. code-block:: shell-session \n The following command assumes the user has deployed 3 VMs \n with the default user \"k0s\" using the default ssh-key (without passphrase) \n k0sctl init --k0s -n \"myk0scluster\" -u \"k0s\" -i \"~/.ssh/id_rsa\" -C \"1\" \"${node1_IP}\" \"${node2_IP}\" \"${node3_IP}\" > k0s-myk0scluster-config.yaml \n Next step is editing  k0s-myk0scluster-config.yaml :: \n replace \n ...\n  provider: kuberouter\n...\n \n with \n ...\n  provider: custom\n...\n \n Finally apply the config file: \n .. code-block:: shell-session \n k0sctl apply --config k0s-myk0scluster-config.yaml --no-wait \n .. note:: \n If running Cilium in :ref: kubeproxy-free  mode disable kube-proxy in the k0s config file \n .. code-block:: shell-session \n   # edit k0s-myk0scluster-config.yaml\n\n  # replace\n  ...\n     network:\n        kubeProxy:\n           disabled: false\n  ...\n  # with\n  ...\n     network:\n        kubeProxy:\n           disabled: true\n  ...\n \n Configure Cluster Access \n For the Cilium CLI to access the cluster in successive steps you will need to\ngenerate the  kubeconfig  file, store it in  ~/.kube/k0s-mycluster.config  and setting\nthe  KUBECONFIG  environment variable: \n .. code-block:: shell-session \n k0sctl kubeconfig --config k0s-myk0scluster-config.yaml > ~/.kube/k0s-mycluster.config\nexport KUBECONFIG=~/.kube/k0s-mycluster.config\n \n Install Cilium \n .. include:: cli-download.rst \n Install Cilium by running: \n .. parsed-literal:: \n cilium install |CHART_VERSION|\n \n Validate the Installation \n .. include:: cli-status.rst\n.. include:: cli-connectivity-test.rst \n .. include:: next-steps.rst",
  "item_type": "unknown",
  "module_path": "/tmp/cilium-repo/Documentation/installation/k0s.rst",
  "extracted_at": "2025-09-03T01:13:29.302603Z"
}