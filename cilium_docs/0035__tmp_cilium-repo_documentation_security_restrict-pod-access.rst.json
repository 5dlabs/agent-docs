{
  "url": "file:///tmp/cilium-repo/Documentation/security/restrict-pod-access.rst",
  "content": ".. only:: not (epub or latex or html)\n\n    WARNING: You are looking at unreleased Cilium documentation.\n    Please use the official rendered version released here:\n    https://docs.cilium.io\n\n.. _security_restrict_pod_access:\n\n========================================\nRestricting privileged Cilium pod access\n========================================\n\nThis page shows you how to restrict privileged access to Cilium pods by limiting access from the Kubernetes API, specifically from `kubernetes exec pod`_.\n\n.. include:: gsg_requirements.rst\n\nBackground\n----------\n\nThe Cilium agent needs some specific Linux capabilities to perform essential system and network operations.\n\nCilium relies on Kubernetes and containers to set up the environment and mount the corresponding volumes. Cilium doesn't perform any extra operations that could result in an unsafe volume mount. \n\nCilium needs kernel interfaces to properly configure the environment. Some kernel interfaces are part of the ``/proc`` filesystem, which includes host and machine configurations that can't be virtualized or namespaced.\n\nIf ``pod exec`` operations aren't restricted, then remote `exec into pods`_ and containers defeats Linux namespace restrictions.\n\nThe Linux kernel restricts joining other namespaces by default. To enter the Cilium container, the ``CAP_SYS_ADMIN`` capability is required in both the current user namespace and in the Cilium user namespace (the initial namespace). If both namespaces have the ``CAP_SYS_ADMIN`` capability, then this is already a privileged access.\n\nTo prevent privileged access to Cilium pods, restrict access to the Kubernetes API and arbitrary ``pod exec`` operations.\n\nRestrict authorization for ``kubernetes exec pod``\n--------------------------------------------------\n\nTo restrict access to Cilium pods through ``kubernetes exec pod``:\n\n1. Configure `RBAC authorization`_ in Kubernetes.\n\n2. Limit `access to the proxy subresource of Nodes`_.\n\nReferences\n----------\n\nFor more information about namespace security, visit:\n\n- https://man7.org/linux/man-pages/man7/user_namespaces.7.html\n- https://man7.org/linux/man-pages/man1/nsenter.1.html\n- https://man7.org/linux/man-pages/man2/setns.2.html\n\n.. _kubernetes exec pod: https://kubernetes.io/docs/tasks/debug/debug-application/get-shell-running-container/\n.. _exec into pods: https://kubernetes.io/docs/tasks/debug/debug-application/get-shell-running-container/\n.. _RBAC authorization: https://kubernetes.io/docs/reference/access-authn-authz/rbac/\n.. _access to the proxy subresource of Nodes: https://kubernetes.io/docs/concepts/security/rbac-good-practices/#access-to-proxy-subresource-of-nodes",
  "item_type": "unknown",
  "module_path": "/tmp/cilium-repo/Documentation/security/restrict-pod-access.rst",
  "extracted_at": "2025-09-03T01:13:28.748417Z"
}