{
  "url": "file:///tmp/cilium-repo/Documentation/network/servicemesh/gateway-api/http.rst",
  "content": ".. only:: not (epub or latex or html)\n\n    WARNING: You are looking at unreleased Cilium documentation.\n    Please use the official rendered version released here:\n    https://docs.cilium.io\n\n.. _gs_gateway_http:\n\n************\nHTTP Example\n************\n\nIn this example, we will deploy a simple HTTP service and expose it to the\nCilium Gateway API.\n\nThe demo application is from the ``bookinfo`` demo microservices app from\nthe Istio project.\n\n.. include:: ../demo-app.rst\n\nDeploy the Cilium Gateway\n=========================\n\nYou'll find the example Gateway and HTTPRoute definition in ``basic-http.yaml``.\n\n.. literalinclude:: ../../../../examples/kubernetes/gateway/basic-http.yaml\n   :language: yaml\n\n.. parsed-literal::\n\n    $ kubectl apply -f \\ |SCM_WEB|\\/examples/kubernetes/gateway/basic-http.yaml\n\nThe above example creates a Gateway named ``my-gateway`` that listens on port 80.\nTwo routes are defined, one for ``/details`` to the ``details`` service, and\none for ``/`` to the ``productpage`` service.\n\nYour cloud provider will automatically provision an external IP address for the\ngateway, but it may take up to 20 minutes.\n\n.. code-block:: shell-session\n\n    $ kubectl get gateway my-gateway\n    NAME         CLASS    ADDRESS        PROGRAMMED   AGE\n    my-gateway   cilium   10.100.26.37   True         2d7h\n\n.. Note::\n\n    Some providers e.g. EKS use a fully-qualified domain name rather than an IP address.\n\nMake HTTP Requests\n==================\n\nNow that the Gateway is ready, you can make HTTP requests to the services.\n\n.. code-block:: shell-session\n\n    $ GATEWAY=$(kubectl get gateway my-gateway -o jsonpath='{.status.addresses[0].value}')\n    $ curl --fail -s http://\"$GATEWAY\"/details/1 | jq\n    {\n      \"id\": 1,\n      \"author\": \"William Shakespeare\",\n      \"year\": 1595,\n      \"type\": \"paperback\",\n      \"pages\": 200,\n      \"publisher\": \"PublisherA\",\n      \"language\": \"English\",\n      \"ISBN-10\": \"1234567890\",\n      \"ISBN-13\": \"123-1234567890\"\n    }\n    $ curl -v -H 'magic: foo' http://\"$GATEWAY\"\\?great\\=example\n    ...\n    \n    \n      \n         Simple Bookstore App \n     \n     \n     \n\n     \n     \n\n     \n     \n\n      \n      \n\n\n     \n         Hello! This is a simple bookstore application consisting of three services as shown below \n     \n\n     name http://details:9080 endpoint details children name endpoint children http://details:9080 details http://reviews:9080 reviews name endpoint children http://ratings:9080 ratings \n\n     \n         Click on one of the links below to auto generate a request to the backend as a real user or a tester\n         \n     \n     Normal user \n     Test user",
  "item_type": "unknown",
  "module_path": "/tmp/cilium-repo/Documentation/network/servicemesh/gateway-api/http.rst",
  "extracted_at": "2025-09-03T01:13:29.162878Z"
}