{
  "url": "file:///tmp/cilium-repo/Documentation/network/servicemesh/gateway-api/installation.rst",
  "content": "Prerequisites\n#############\n\n* Cilium must be configured with the kube-proxy replacement, using\n  ``kubeProxyReplacement=true``. For more information, see :ref:`kube-proxy\n  replacement <kubeproxy-free>`.\n* Cilium must be configured with the L7 proxy enabled using ``l7Proxy=true``\n  (enabled by default).\n* The below CRDs from Gateway API v1.3.0 ``must`` be pre-installed.\n  Please refer to this `docs <https://gateway-api.sigs.k8s.io/guides/?h=crds#getting-started-with-gateway-api>`_\n  for installation steps. Alternatively, the below snippet could be used.\n\n    - `GatewayClass <https://gateway-api.sigs.k8s.io/api-types/gatewayclass/>`_\n    - `Gateway <https://gateway-api.sigs.k8s.io/api-types/gateway/>`_\n    - `HTTPRoute <https://gateway-api.sigs.k8s.io/api-types/httproute/>`_\n    - `GRPCRoute <https://gateway-api.sigs.k8s.io/api-types/grpcroute/>`_\n    - `ReferenceGrant <https://gateway-api.sigs.k8s.io/api-types/referencegrant/>`_\n\n  If you wish to use the TLSRoute functionality, you'll also need to install the TLSRoute resource.\n  If this CRD is not installed, then Cilium will disable TLSRoute support.\n\n    - `TLSRoute (experimental) <https://gateway-api.sigs.k8s.io/references/spec/#gateway.networking.k8s.io%2fv1alpha2.TLSRoute/>`_\n\n  You can install the required CRDs like this:\n\n    .. code-block:: shell-session\n\n        $ kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/standard/gateway.networking.k8s.io_gatewayclasses.yaml\n        $ kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/standard/gateway.networking.k8s.io_gateways.yaml\n        $ kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/standard/gateway.networking.k8s.io_httproutes.yaml\n        $ kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/standard/gateway.networking.k8s.io_referencegrants.yaml\n        $ kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/standard/gateway.networking.k8s.io_grpcroutes.yaml\n\n  And add TLSRoute with this snippet.\n    .. code-block:: shell-session\n\n        $ kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/experimental/gateway.networking.k8s.io_tlsroutes.yaml\n\n* By default, the Gateway API controller creates a service of LoadBalancer type,\n  so your environment will need to support this. Alternatively, since Cilium 1.16+,\n  you can directly expose the Cilium L7 proxy on the :ref:`host network <gs_gateway_host_network_mode>`.\n\nInstallation\n############\n\n.. include:: ../../../installation/cli-download.rst\n\n.. tabs::\n\n    .. group-tab:: Helm\n\n        Cilium Gateway API Controller can be enabled with helm flag ``gatewayAPI.enabled``\n        set as true. Please refer to :ref:`k8s_install_helm` for a fresh installation.\n\n        .. parsed-literal::\n\n            $ helm upgrade cilium |CHART_RELEASE| \\\\\n                --namespace kube-system \\\\\n                --reuse-values \\\\\n                --set kubeProxyReplacement=true \\\\\n                --set gatewayAPI.enabled=true\n\n            $ kubectl -n kube-system rollout restart deployment/cilium-operator\n            $ kubectl -n kube-system rollout restart ds/cilium\n\n        Next you can check the status of the Cilium agent and operator:\n\n        .. code-block:: shell-session\n\n            $ cilium status\n\n\n    .. group-tab:: Cilium CLI\n\n        Cilium Gateway API Controller can be enabled with the below command\n\n        .. parsed-literal::\n\n            $ cilium install |CHART_VERSION| \\\\\n                --set kubeProxyReplacement=true \\\\\n                --set gatewayAPI.enabled=true\n\n        Next you can check the status of the Cilium agent and operator:\n\n        .. code-block:: shell-session\n\n            $ cilium status\n",
  "item_type": "unknown",
  "module_path": "/tmp/cilium-repo/Documentation/network/servicemesh/gateway-api/installation.rst",
  "extracted_at": "2025-09-03T01:13:29.165936Z"
}