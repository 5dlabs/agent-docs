{
  "url": "file:///tmp/cilium-repo/Documentation/observability/hubble/hubble-cli.rst",
  "content": ".. only:: not (epub or latex or html)\n\n    WARNING: You are looking at unreleased Cilium documentation.\n    Please use the official rendered version released here:\n    https://docs.cilium.io\n\n.. _hubble_cli:\n\n*************************************\nInspecting Network Flows with the CLI\n*************************************\n\nThis guide walks you through using the Hubble CLI to inspect network flows and\ngain visibility into what is happening on the network level.\n\nThe best way to get help if you get stuck is to ask a question on `Cilium\nSlack`_. With Cilium contributors across the globe, there is almost always\nsomeone available to help.\n\n.. note::\n\n    This guide uses examples based on the Demo App. If you would like to run them,\n    deploy the Demo App first. Please refer to :ref:`gs_http` for more details.\n\nPre-Requisites\n==============\n\n* Cilium has been correctly :ref:`installed in your Kubernetes cluster<k8s_quick_install>`.\n* :ref:`Hubble is enabled<hubble_setup>`.\n* :ref:`Hubble CLI is installed<hubble_cli_install>`.\n* :ref:`The Hubble API is accessible<hubble_validate_api_access>`.\n\nIf unsure, run ``cilium status`` and validate that Cilium and Hubble are up and\nrunning then run ``hubble status`` to verify you can communicate with the\nHubble API .\n\nInspecting the cluster's network traffic with Hubble Relay\n==========================================================\n\nLet's issue some requests to emulate some traffic again. This first request is\nallowed by the policy.\n\n.. code-block:: shell-session\n\n    kubectl exec tiefighter -- curl -s -XPOST deathstar.default.svc.cluster.local/v1/request-landing\n    Ship landed\n\nThis next request is accessing an HTTP endpoint which is denied by policy.\n\n.. code-block:: shell-session\n\n    kubectl exec tiefighter -- curl -s -XPUT deathstar.default.svc.cluster.local/v1/exhaust-port\n    Access denied\n\nFinally, this last request will hang because the ``xwing`` pod does not have\nthe ``org=empire`` label required by policy. Press Control-C to kill the curl\nrequest, or wait for it to time out.\n\n.. code-block:: shell-session\n\n    kubectl exec xwing -- curl -s -XPOST deathstar.default.svc.cluster.local/v1/request-landing\n    command terminated with exit code 28\n\nLet's now inspect this traffic using the CLI. The command below filters all\ntraffic on the application layer (L7, HTTP) to the ``deathstar`` pod:\n\n.. code-block:: shell-session\n\n    hubble observe --pod deathstar --protocol http\n    May  4 13:23:40.501: default/tiefighter:42690 -> default/deathstar-c74d84667-cx5kp:80 http-request FORWARDED (HTTP/1.1 POST http://deathstar.default.svc.cluster.local/v1/request-landing)\n    May  4 13:23:40.502: default/tiefighter:42690 <- default/deathstar-c74d84667-cx5kp:80 http-response FORWARDED (HTTP/1.1 200 0ms (POST http://deathstar.default.svc.cluster.local/v1/request-landing))\n    May  4 13:23:43.791: default/tiefighter:42742 -> default/deathstar-c74d84667-cx5kp:80 http-request DROPPED (HTTP/1.1 PUT http://deathstar.default.svc.cluster.local/v1/exhaust-port)\n\n\n\nThe following command shows all traffic to the ``deathstar`` pod that has been\ndropped:\n\n.. code-block:: shell-session\n\n    hubble observe --pod deathstar --verdict DROPPED\n    May  4 13:23:43.791: default/tiefighter:42742 -> default/deathstar-c74d84667-cx5kp:80 http-request DROPPED (HTTP/1.1 PUT http://deathstar.default.svc.cluster.local/v1/exhaust-port)\n    May  4 13:23:47.852: default/xwing:42818 <> default/deathstar-c74d84667-cx5kp:80 Policy denied DROPPED (TCP Flags: SYN)\n    May  4 13:23:47.852: default/xwing:42818 <> default/deathstar-c74d84667-cx5kp:80 Policy denied DROPPED (TCP Flags: SYN)\n    May  4 13:23:48.854: default/xwing:42818 <> default/deathstar-c74d84667-cx5kp:80 Policy denied DROPPED (TCP Flags: SYN)\n\nFeel free to further inspect the traffic. To get help for the ``observe``\ncommand, use ``hubble help observe``.\n\nNext Steps\n==========\n\n* :ref:`hubble_api_tls`\n",
  "item_type": "unknown",
  "module_path": "/tmp/cilium-repo/Documentation/observability/hubble/hubble-cli.rst",
  "extracted_at": "2025-09-03T01:13:29.328179Z"
}